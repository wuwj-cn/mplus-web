<div [@routerTransition]>
  <div class="table-operations">
    <button nz-button (click)="sort('age','descend')">Sort age</button>
    <button nz-button (click)="reset(filterNameArray);reset(filterAddressArray);">Clear filters</button>
    <button nz-button (click)="sort(null,null);reset(filterNameArray);reset(filterAddressArray);">Clear filters and sorters</button>
  </div>
  <nz-table #nzTable [nzDataSource]="data" [nzPageSize]="10">
    <thead nz-thead>
      <tr>
        <th nz-th>
          <span>Name</span>
          <nz-table-sort [(nzValue)]="sortMap.name" (nzValueChange)="sort('name',$event)"></nz-table-sort>
          <nz-dropdown [nzTrigger]="'click'">
            <i class="anticon anticon-filter" nz-dropdown></i>
            <ul nz-menu>
              <li nz-menu-item *ngFor="let filter of filterNameArray">
                <label nz-checkbox [(ngModel)]="filter.value">
                  <span>{{filter.name}}</span>
                </label>
              </li>
            </ul>
            <div nz-table-filter>
              <span nz-table-filter-confirm (click)="search()">OK</span>
              <span nz-table-filter-clear (click)="reset(filterNameArray)">Reset</span>
            </div>
          </nz-dropdown>
        </th>
        <th nz-th>
          <span>Age</span>
          <nz-table-sort [(nzValue)]="sortMap.age" (nzValueChange)="sort('age',$event)"></nz-table-sort>
        </th>
        <th nz-th>
          <span>Address</span>
          <nz-table-sort [(nzValue)]="sortMap.address" (nzValueChange)="sort('address',$event)"></nz-table-sort>
          <nz-dropdown [nzTrigger]="'click'">
            <i class="anticon anticon-filter" nz-dropdown></i>
            <ul nz-menu>
              <li nz-menu-item *ngFor="let filter of filterAddressArray">
                <label nz-checkbox [(ngModel)]="filter.value">
                  <span>{{filter.name}}</span>
                </label>
              </li>
            </ul>
            <div nz-table-filter>
              <span nz-table-filter-confirm (click)="search()">OK</span>
              <span nz-table-filter-clear (click)="reset(filterAddressArray)">Reset</span>
            </div>
          </nz-dropdown>
        </th>
      </tr>
    </thead>
    <tbody nz-tbody>
      <tr nz-tbody-tr *ngFor="let data of nzTable.data">
        <td nz-td>
          <a>{{data.name}}</a>
        </td>
        <td nz-td>{{data.age}}</td>
        <td nz-td>{{data.address}}</td>
      </tr>
    </tbody>
  </nz-table>  
</div>